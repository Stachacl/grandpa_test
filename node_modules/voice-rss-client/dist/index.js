!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VoiceRSSClient=t():e.VoiceRSSClient=t()}(global,(function(){return(()=>{"use strict";var e={36:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSpeech=t.createQuery=void 0;var i=r(200),a=r(860),u=r(469);n(r(230),t);var c=r(200);Object.defineProperty(t,"createQuery",{enumerable:!0,get:function(){return c.createQuery}}),n(r(469),t),n(r(860),t),t.getSpeech=function(e){return(0,u.validate)(e)&&(0,a.makeRequest)((0,i.createQuery)(e))}},860:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequest=void 0;var i=r(230);t.makeRequest=function(e){return o(this,void 0,void 0,(function(){var t,r,o;return n(this,(function(n){switch(n.label){case 0:return[4,fetch("https://".concat(i.VOICE_RSS_URL),{method:"POST",headers:(o={},o[i.HEADER_NAME]=i.HEADER_VALUE,o),body:e})];case 1:if(200!==(t=n.sent()).status)throw new Error(t.statusText);return[4,t.text()];case 2:if((r=n.sent()).startsWith(i.ERROR_PREFIX))throw new Error(r.slice(i.ERROR_PREFIX.length));return[2,r]}}))}))}},469:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;var o=r(200);t.validate=function(e){if((0,o.validate)(e),e.audioCodec){var t="audio/";switch(e.audioCodec){case"mp3":t+="mpeg";break;case"caf":t+="x-caf";break;default:t+=e.audioCodec}if(""===(new Audio).canPlayType(t))throw new Error("The ".concat(e.audioCodec.toLocaleUpperCase()," codec is not supported in the current browser"))}return!0}},200:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.createQuery=void 0,t.createQuery=function(e){var t="key=".concat(e.apiKey,"&src=").concat(e.text,"&hl=").concat(e.language,"&c=").concat(e.audioCodec||"auto");return e.speaker&&(t+="&v=".concat(e.speaker.toLowerCase())),e.audioFormat&&(t+="&f=".concat(e.audioFormat)),e.speechRate&&(t+="&r=".concat(e.speechRate)),e.ssml&&(t+="&ssml=".concat(e.ssml)),(t+="&ssml=".concat(!0===e.ssml))+"&b64=".concat(!1!==e.base64)},t.validate=function(e){if(!e||!Object.keys(e))throw new Error("No config provided");if(!e.apiKey)throw new Error("No API key provided");if(!e.text)throw new Error("No text provided");if(!e.language)throw new Error("No language provided");return!0}},607:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSpeech=t.makeRequest=t.validate=t.createQuery=void 0;var i=r(36),a=r(200),u=r(841);n(r(230),t);var c=r(200);function s(e){return"undefined"!=typeof window?(0,i.validate)(e):(0,u.validate)(e)}function l(e){return"undefined"!=typeof window?(0,i.makeRequest)(e):(0,u.makeRequest)(e)}function h(e){return s(e)&&l((0,a.createQuery)(e))}Object.defineProperty(t,"createQuery",{enumerable:!0,get:function(){return c.createQuery}}),t.validate=s,t.makeRequest=l,t.getSpeech=h,t.default={validate:s,makeRequest:l,getSpeech:h}},841:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSpeech=void 0;var i=r(200),a=r(6);n(r(230),t),n(r(200),t),n(r(6),t),t.getSpeech=function(e){return(0,i.validate)(e)&&(0,a.makeRequest)((0,i.createQuery)(e))}},6:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t},a=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((o=o.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequest=void 0;var c=r(230);t.makeRequest=function(e){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(o){return[2,new Promise((function(o,n){return a(t,void 0,void 0,(function(){var t,a,s;return u(this,(function(u){switch(u.label){case 0:return[4,Promise.resolve().then((function(){return i(r(687))}))];case 1:return t=u.sent().request,(a=t({host:c.VOICE_RSS_URL,method:c.METHOD,headers:(s={},s[c.HEADER_NAME]=c.HEADER_VALUE,s)},(function(e){200!==e.statusCode&&n(e.statusMessage),e.on("data",(function(e){var t=e.toString();t.startsWith(c.ERROR_PREFIX)&&n(t.slice(c.ERROR_PREFIX.length)),o(t)}))}))).on("error",(function(e){n(e.message)})),a.write(e),a.end(),[2]}}))}))}))]}))}))}},220:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Format=t.Codec=t.SpeechRate=t.VoiceRSSError=t.ERROR_PREFIX=t.HEADER_VALUE=t.HEADER_NAME=t.METHOD=t.VOICE_RSS_URL=void 0,t.VOICE_RSS_URL="api.voicerss.org",t.METHOD="POST",t.HEADER_NAME="Content-Type",t.HEADER_VALUE="application/x-www-form-urlencoded; charset=UTF-8",t.ERROR_PREFIX="ERROR: ",(r=t.VoiceRSSError||(t.VoiceRSSError={})).InactiveAccount="ERROR: The account is inactive!",r.ExpiredSubscription="ERROR: The subscription is expired or requests count limitation is exceeded!",r.ContentTooLarge="ERROR: The request content length is too large!",r.LanguageDoesNotSupport="ERROR: The language does not support!",r.NoLanguageSpecified="ERROR: The language is not specified!",r.NoTextSpecified="ERROR: The text is not specified!",r.APIKeyNotAvailable="ERROR: The API key is not available!",r.APIKeyNotSpecified="ERROR: The API key is not specified!",r.NoSSMLSupport="ERROR: The subscription does not support SSML!",t.SpeechRate=[-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10],t.Codec=["mp3","wav","aac","ogg","caf"],t.Format=["8khz_8bit_mono","8khz_8bit_stereo","8khz_16bit_mono","8khz_16bit_stereo","11khz_8bit_mono","11khz_8bit_stereo","11khz_16bit_mono","11khz_16bit_stereo","12khz_8bit_mono","12khz_8bit_stereo","12khz_16bit_mono","12khz_16bit_stereo","16khz_8bit_mono","16khz_8bit_stereo","16khz_16bit_mono","16khz_16bit_stereo","22khz_8bit_mono","22khz_8bit_stereo","22khz_16bit_mono","22khz_16bit_stereo","24khz_8bit_mono","24khz_8bit_stereo","24khz_16bit_mono","24khz_16bit_stereo","32khz_8bit_mono","32khz_8bit_stereo","32khz_16bit_mono","32khz_16bit_stereo","44khz_8bit_mono","44khz_8bit_stereo","44khz_16bit_mono","44khz_16bit_stereo","48khz_8bit_mono","48khz_8bit_stereo","48khz_16bit_mono","48khz_16bit_stereo","alaw_8khz_mono","alaw_8khz_stereo","alaw_11khz_mono","alaw_11khz_stereo","alaw_22khz_mono","alaw_22khz_stereo","alaw_44khz_mono","alaw_44khz_stereo","ulaw_8khz_mono","ulaw_8khz_stereo","ulaw_11khz_mono","ulaw_11khz_stereo","ulaw_22khz_mono","ulaw_22khz_stereo","ulaw_44khz_mono","ulaw_44khz_stereo"]},230:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(220),t),n(r(949),t)},949:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LanguagesAndSpeakers=void 0,t.LanguagesAndSpeakers={"ar-eg":["Oda"],"ar-sa":["Salim"],"bg-bg":["Dimo"],"ca-es":["Rut"],"zh-cn":["Luli","Shu","Chow","Wang"],"zh-hk":["Jia","Xia","Chen"],"zh-tw":["Akemi","Lin","Lee"],"hr-hr":["Nikola"],"cs-cz":["Josef"],"da-dk":["Freja"],"nl-be":["Daan"],"nl-nl":["Lotte","Bram"],"en-au":["Zoe","Isla","Evie","Jack"],"en-ca":["Rose","Clara","Emma","Mason"],"en-gb":["Alice","Nancy","Lily","Harry"],"en-in":["Eka","Jai","Ajit"],"en-ie":["Oran"],"en-us":["Linda","Amy","Mary","John","Mike"],"fi-fi":["Aada"],"fr-ca":["Emile","Olivia","Logan","Felix"],"fr-fr":["Bette","Iva","Zola","Axel"],"fr-ch":["Theo"],"de-at":["Lukas"],"de-de":["Hanna","Lina","Jonas"],"de-ch":["Tim"],"el-gr":["Neo"],"he-il":["Rami"],"hi-in":["Puja","Kabir"],"hu-hu":["Mate"],"id-id":["Intan"],"it-it":["Bria","Mia","Pietro"],"ja-jp":["Hina","Airi","Fumi","Akira"],"ko-kr":["Nari"],"ms-my":["Aqil"],"nb-no":["Marte","Erik"],"pl-pl":["Julia","Jan"],"pt-br":["Marcia","Ligia","Yara","Dinis"],"pt-pt":["Leonor"],"ro-ro":["Doru"],"ru-ru":["Olga","Marina","Peter"],"sk-sk":["Beda"],"sl-si":["Vid"],"es-mx":["Juana","Silvia","Teresa","Jose"],"es-es":["Camila","Sofia","Luna","Diego"],"sv-se":["Molly","Hugo"],"ta-in":["Sai"],"th-th":["Ukrit"],"tr-tr":["Omer"]}},687:e=>{e.exports=require("https")}},t={};return function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}(607)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsQ0FBQyxRQUNWLFFBQVMsQ0FBQyxTQUNWLFFBQVMsQ0FBQyxRQUFTLE9BQVEsU0FDM0IsUUFBUyxDQUFDLE9BQ1YsUUFBUyxDQUFDLE9BQ1YsUUFBUyxDQUFDLFFBQ1YsUUFBUyxDQUFDLE9BQVEsU0FDbEIsUUFBUyxDQUFDLFFBQ1YsUUFBUyxDQUFDLFNBQ1YsUUFBUyxDQUFDLE9BQVEsTUFBTyxVQUN6QixRQUFTLENBQUMsT0FBUSxPQUFRLE9BQVEsU0FDbEMsUUFBUyxDQUFDLFFBQ1YsUUFBUyxDQUFDLFFBQ1YsUUFBUyxDQUFDLFFBQVMsUUFDbkIsUUFBUyxDQUFDLFFBQVMsT0FDbkIsUUFBUyxDQUFDLFNBQVUsUUFBUyxPQUFRLFNBQ3JDLFFBQVMsQ0FBQyxVQUNWLFFBQVMsQ0FBQyxRQUNWLFFBQVMsQ0FBQyxPQUFRLFNBQVUsU0FDNUIsUUFBUyxDQUFDLFFBQ1YsUUFBUyxDQUFDLE9BQ1YsUUFBUyxDQUFDLFFBQVMsU0FBVSxTQUFVLFFBQ3ZDLFFBQVMsQ0FBQyxTQUFVLFFBQVMsT0FBUSxTQUNyQyxRQUFTLENBQUMsUUFBUyxRQUNuQixRQUFTLENBQUMsT0FDVixRQUFTLENBQUMsU0FDVixRQUFTLENBQUMsUSxVQ2xEWjlELEVBQU9ELFFBQVVnRSxRQUFRLFEsR0NDckJDLEVBQTJCLENBQUMsRSxPQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhcEUsUUFHckIsSUFBSUMsRUFBU2dFLEVBQXlCRSxHQUFZLENBR2pEbkUsUUFBUyxDQUFDLEdBT1gsT0FIQXNFLEVBQW9CSCxHQUFVSSxLQUFLdEUsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU2tFLEdBR3BFakUsRUFBT0QsT0FDZixDQ25CMEJrRSxDQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vVm9pY2VSU1NDbGllbnQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50Ly4vc3JjL2Jyb3dzZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vVm9pY2VSU1NDbGllbnQvLi9zcmMvYnJvd3Nlci9tYWtlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9Wb2ljZVJTU0NsaWVudC8uL3NyYy9icm93c2VyL3ZhbGlkYXRlLnRzIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50Ly4vc3JjL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9Wb2ljZVJTU0NsaWVudC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9Wb2ljZVJTU0NsaWVudC8uL3NyYy9ub2RlL2luZGV4LnRzIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50Ly4vc3JjL25vZGUvbWFrZVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vVm9pY2VSU1NDbGllbnQvLi9zcmMvdHlwZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50Ly4vc3JjL3R5cGVzL2luZGV4LnRzIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50Ly4vc3JjL3R5cGVzL3ZvaWNlUlNTQ29uZmlnLnRzIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwc1wiIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1ZvaWNlUlNTQ2xpZW50L3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJWb2ljZVJTU0NsaWVudFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJWb2ljZVJTU0NsaWVudFwiXSA9IGZhY3RvcnkoKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiaW1wb3J0IHsgY3JlYXRlUXVlcnkgfSBmcm9tIFwiLi4vY29tbW9uXCI7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IG1ha2VSZXF1ZXN0IH0gZnJvbSBcIi4vbWFrZVJlcXVlc3RcIjtcbmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSBcIi4vdmFsaWRhdGVcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4uL3R5cGVzXCI7XG5leHBvcnQgeyBjcmVhdGVRdWVyeSB9IGZyb20gXCIuLi9jb21tb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL3ZhbGlkYXRlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tYWtlUmVxdWVzdFwiO1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiwgbWFrZXMgYSByZXF1ZXN0IHRvIHRoZSBWb2ljZVJTUyBBUEkgYW5kIHJldHVybnMgdGhlIHNvdW5kIGFzIGEgc3RyaW5nLlxuICogQHRocm93cyBXaWxsIHRocm93IG9uZSBvZiBmb2xsb3dpbmcgZXJyb3JzOlxuICogLSBObyBjb25maWcgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gY29uZmlnIG9iamVjdCBwcm92aWRlZFxuICogLSBObyBBUEkga2V5IHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIEFQSSBrZXkgcHJvdmlkZWRcbiAqIC0gTm8gdGV4dCBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyB0ZXh0IHByb3ZpZGVkXG4gKiAtIE5vIGxhbmd1YWdlIHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIHRleHQgcHJvdmlkZWRcbiAqIC0gQ2Fubm90IHBsYXkgcHJvdmlkZWQgYXVkaW8gY29kZWMgOiBpZiB0aGUgcHJvdmlkZWQgYXVkaW8gY29kZWMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyXG4gKiAtIElmIHRoZXJlIGlzIGEgbmV0d29yayBlcnJvclxuICogLSBUaGUgc2VydmVyIHJlc3BvbnNlIGlzIGFuIFZvaWNlUlNTIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnIFRoZSBjb25maWcgb2JqZWN0IHByb3ZpZGVkLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwZWVjaChjb25maWc6IENvbmZpZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiB2YWxpZGF0ZShjb25maWcpICYmIG1ha2VSZXF1ZXN0KGNyZWF0ZVF1ZXJ5KGNvbmZpZykpO1xufVxuIiwiaW1wb3J0IHsgRVJST1JfUFJFRklYLCBIRUFERVJfTkFNRSwgSEVBREVSX1ZBTFVFLCBWT0lDRV9SU1NfVVJMIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbi8qKlxuICogTWFrZXMgYSBQT1NUIGZldGNoIHJlcXVlc3QgdG8gdGhlIFZvaWNlUlNTIEFQSSB3aXRoIHRoZSBwcm92aWRlZCBxdWVyeS5cbiAqIEB0aHJvd3MgVGhyb3dzIGlmIHRoZXJlIGlzIGEgbmV0d29yayBlcnJvciBvciB0aGUgc2VydmVyIHJlc3BvbnNlIGlzIGFuIFZvaWNlUlNTIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgVGhlIHF1ZXJ5IHN0cmluZyB0byBzZW5kLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovLyR7Vk9JQ0VfUlNTX1VSTH1gLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBbSEVBREVSX05BTUVdOiBIRUFERVJfVkFMVUUsXG4gICAgfSxcbiAgICBib2R5OiBxdWVyeSxcbiAgfSk7XG5cbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICB9XG5cbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICBpZiAodGV4dC5zdGFydHNXaXRoKEVSUk9SX1BSRUZJWCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IodGV4dC5zbGljZShFUlJPUl9QUkVGSVgubGVuZ3RoKSk7XG4gIH1cblxuICByZXR1cm4gdGV4dDtcbn1cbiIsImltcG9ydCB7IHZhbGlkYXRlIGFzIGNvbW1vblZhbGlkYXRlIH0gZnJvbSBcIi4uL2NvbW1vblwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGlzIGNvcnJlY3QgYW5kIHdoZXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHByb3ZpZGVkIGF1ZGlvIGNvZGVjLlxuICogQHRocm93cyBXaWxsIHRocm93IG9uZSBvZiBmb2xsb3dpbmcgZXJyb3JzOlxuICogLSBObyBjb25maWcgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gY29uZmlnIG9iamVjdCBwcm92aWRlZFxuICogLSBObyBBUEkga2V5IHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIEFQSSBrZXkgcHJvdmlkZWRcbiAqIC0gTm8gdGV4dCBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyB0ZXh0IHByb3ZpZGVkXG4gKiAtIE5vIGxhbmd1YWdlIHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIHRleHQgcHJvdmlkZWRcbiAqIC0gQ2Fubm90IHBsYXkgcHJvdmlkZWQgYXVkaW8gY29kZWMgOiBpZiB0aGUgcHJvdmlkZWQgYXVkaW8gY29kZWMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyIChvbmx5XG4gKiBhcHBsaWNhYmxlIGlmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgZnJvbSBhIGJyb3dzZXIpXG4gKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnIFRoZSBSU1MgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGNvbmZpZzogQ29uZmlnKTogYm9vbGVhbiB7XG4gIGNvbW1vblZhbGlkYXRlKGNvbmZpZyk7XG5cbiAgaWYgKGNvbmZpZy5hdWRpb0NvZGVjKSB7XG4gICAgbGV0IG1lZGlhVHlwZSA9IFwiYXVkaW8vXCI7XG4gICAgc3dpdGNoIChjb25maWcuYXVkaW9Db2RlYykge1xuICAgICAgY2FzZSBcIm1wM1wiOlxuICAgICAgICBtZWRpYVR5cGUgKz0gXCJtcGVnXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNhZlwiOlxuICAgICAgICBtZWRpYVR5cGUgKz0gXCJ4LWNhZlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1lZGlhVHlwZSArPSBjb25maWcuYXVkaW9Db2RlYztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKG5ldyBBdWRpbygpLmNhblBsYXlUeXBlKG1lZGlhVHlwZSkgPT09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlICR7Y29uZmlnLmF1ZGlvQ29kZWMudG9Mb2NhbGVVcHBlckNhc2UoKX0gY29kZWMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyYCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBxdWVyeSBzdHJpbmcgZnJvbSB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBjcmVhdGUgdGhlIHF1ZXJ5IGZyb20uXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUXVlcnkoY29uZmlnOiBDb25maWcpOiBzdHJpbmcge1xuICBsZXQgcXVlcnkgPSBga2V5PSR7Y29uZmlnLmFwaUtleX0mc3JjPSR7Y29uZmlnLnRleHR9JmhsPSR7Y29uZmlnLmxhbmd1YWdlfSZjPSR7Y29uZmlnLmF1ZGlvQ29kZWMgfHwgXCJhdXRvXCJ9YDtcblxuICBpZiAoY29uZmlnLnNwZWFrZXIpIHF1ZXJ5ICs9IGAmdj0ke2NvbmZpZy5zcGVha2VyLnRvTG93ZXJDYXNlKCl9YDtcbiAgaWYgKGNvbmZpZy5hdWRpb0Zvcm1hdCkgcXVlcnkgKz0gYCZmPSR7Y29uZmlnLmF1ZGlvRm9ybWF0fWA7XG4gIGlmIChjb25maWcuc3BlZWNoUmF0ZSkgcXVlcnkgKz0gYCZyPSR7Y29uZmlnLnNwZWVjaFJhdGV9YDtcbiAgaWYgKGNvbmZpZy5zc21sKSBxdWVyeSArPSBgJnNzbWw9JHtjb25maWcuc3NtbH1gO1xuICBxdWVyeSArPSBgJnNzbWw9JHtjb25maWcuc3NtbCA9PT0gdHJ1ZX1gO1xuICBxdWVyeSArPSBgJmI2ND0ke2NvbmZpZy5iYXNlNjQgIT09IGZhbHNlfWA7XG5cbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBpcyBjb3JyZWN0LlxuICogQHRocm93cyBXaWxsIHRocm93IG9uZSBvZiBmb2xsb3dpbmcgZXJyb3JzOlxuICogLSBObyBjb25maWcgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gY29uZmlnIG9iamVjdCBwcm92aWRlZFxuICogLSBObyBBUEkga2V5IHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIEFQSSBrZXkgcHJvdmlkZWRcbiAqIC0gTm8gdGV4dCBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyB0ZXh0IHByb3ZpZGVkXG4gKiAtIE5vIGxhbmd1YWdlIHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIHRleHQgcHJvdmlkZWRcbiAqIEBwYXJhbSB7Q29uZmlnfSBjb25maWcgVGhlIFJTUyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoY29uZmlnOiBDb25maWcpOiBib29sZWFuIHtcbiAgaWYgKCFjb25maWcgfHwgIU9iamVjdC5rZXlzKGNvbmZpZykpIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbmZpZyBwcm92aWRlZFwiKTtcbiAgaWYgKCFjb25maWcuYXBpS2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJObyBBUEkga2V5IHByb3ZpZGVkXCIpO1xuICBpZiAoIWNvbmZpZy50ZXh0KSB0aHJvdyBuZXcgRXJyb3IoXCJObyB0ZXh0IHByb3ZpZGVkXCIpO1xuICBpZiAoIWNvbmZpZy5sYW5ndWFnZSkgdGhyb3cgbmV3IEVycm9yKFwiTm8gbGFuZ3VhZ2UgcHJvdmlkZWRcIik7XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBtYWtlUmVxdWVzdCBhcyBicm93c2VyTWFrZVJlcXVlc3QsIHZhbGlkYXRlIGFzIGJyb3dzZXJWYWxpZGF0ZSB9IGZyb20gXCIuL2Jyb3dzZXJcIjtcbmltcG9ydCB7IGNyZWF0ZVF1ZXJ5IH0gZnJvbSBcIi4vY29tbW9uXCI7XG5pbXBvcnQgeyBtYWtlUmVxdWVzdCBhcyBub2RlTWFrZVJlcXVlc3QsIHZhbGlkYXRlIGFzIGNvbW1vblZhbGlkYXRlIH0gZnJvbSBcIi4vbm9kZVwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXNcIjtcbmV4cG9ydCB7IGNyZWF0ZVF1ZXJ5IH0gZnJvbSBcIi4vY29tbW9uXCI7XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGlzIGNvcnJlY3QgYW5kIGlmIHJ1bm5pbmcgaW4gYnJvd3NlciB3aGV0aGVyIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZVxuICogcHJvdmlkZWQgYXVkaW8gY29kZWMuXG4gKiBAdGhyb3dzIFdpbGwgdGhyb3cgb25lIG9mIGZvbGxvd2luZyBlcnJvcnM6XG4gKiAtIE5vIGNvbmZpZyBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyBjb25maWcgb2JqZWN0IHByb3ZpZGVkXG4gKiAtIE5vIEFQSSBrZXkgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gQVBJIGtleSBwcm92aWRlZFxuICogLSBObyB0ZXh0IHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIHRleHQgcHJvdmlkZWRcbiAqIC0gTm8gbGFuZ3VhZ2UgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gdGV4dCBwcm92aWRlZFxuICogLSBDYW5ub3QgcGxheSBwcm92aWRlZCBhdWRpbyBjb2RlYyA6IGlmIHRoZSBwcm92aWRlZCBhdWRpbyBjb2RlYyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGJyb3dzZXIgKG9ubHlcbiAqIGFwcGxpY2FibGUgaWYgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBmcm9tIGEgYnJvd3NlcilcbiAqIEBwYXJhbSB7Q29uZmlnfSBjb25maWcgVGhlIFJTUyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoY29uZmlnOiBDb25maWcpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBicm93c2VyVmFsaWRhdGUoY29uZmlnKSA6IGNvbW1vblZhbGlkYXRlKGNvbmZpZyk7XG59XG5cbi8qKlxuICogTWFrZXMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIFZvaWNlUlNTIEFQSSB3aXRoIHRoZSBwcm92aWRlZCBxdWVyeSBzdHJpbmcuXG4gKiBAdGhyb3dzIFRocm93cyBpZiB0aGVyZSBpcyBhIG5ldHdvcmsgZXJyb3Igb3IgdGhlIHNlcnZlciByZXNwb25zZSBpcyBhbiBWb2ljZVJTUyBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcgdG8gc2VuZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUmVxdWVzdChxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBicm93c2VyTWFrZVJlcXVlc3QocXVlcnkpIDogbm9kZU1ha2VSZXF1ZXN0KHF1ZXJ5KTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24sIG1ha2VzIGEgcmVxdWVzdCB0byB0aGUgVm9pY2VSU1MgQVBJIGFuZCByZXR1cm5zIHRoZSBzb3VuZCBhcyBhIHN0cmluZy5cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBvbmUgb2YgZm9sbG93aW5nIGVycm9yczpcbiAqIC0gTm8gY29uZmlnIHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIGNvbmZpZyBvYmplY3QgcHJvdmlkZWRcbiAqIC0gTm8gQVBJIGtleSBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyBBUEkga2V5IHByb3ZpZGVkXG4gKiAtIE5vIHRleHQgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gdGV4dCBwcm92aWRlZFxuICogLSBObyBsYW5ndWFnZSBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyB0ZXh0IHByb3ZpZGVkXG4gKiAtIENhbm5vdCBwbGF5IHByb3ZpZGVkIGF1ZGlvIGNvZGVjIDogaWYgdGhlIHByb3ZpZGVkIGF1ZGlvIGNvZGVjIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3NlciAob25seVxuICogYXBwbGljYWJsZSBpZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGZyb20gYSBicm93c2VyKVxuICogLSBJZiB0aGVyZSBpcyBhIG5ldHdvcmsgZXJyb3JcbiAqIC0gVGhlIHNlcnZlciByZXNwb25zZSBpcyBhbiBWb2ljZVJTUyBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtDb25maWd9IGNvbmZpZyBUaGUgY29uZmlnIG9iamVjdCBwcm92aWRlZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGVlY2goY29uZmlnOiBDb25maWcpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gdmFsaWRhdGUoY29uZmlnKSAmJiBtYWtlUmVxdWVzdChjcmVhdGVRdWVyeShjb25maWcpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyB2YWxpZGF0ZSwgbWFrZVJlcXVlc3QsIGdldFNwZWVjaCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlUXVlcnksIHZhbGlkYXRlIH0gZnJvbSBcIi4uL2NvbW1vblwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBtYWtlUmVxdWVzdCB9IGZyb20gXCIuL21ha2VSZXF1ZXN0XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuLi90eXBlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4uL2NvbW1vblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWFrZVJlcXVlc3RcIjtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24sIG1ha2VzIGEgcmVxdWVzdCB0byB0aGUgVm9pY2VSU1MgQVBJIGFuZCByZXR1cm5zIHRoZSBzb3VuZCBhcyBhIHN0cmluZy5cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBvbmUgb2YgZm9sbG93aW5nIGVycm9yczpcbiAqIC0gTm8gY29uZmlnIHByb3ZpZGVkIDogaWYgdGhlcmUgd2FzIG5vIGNvbmZpZyBvYmplY3QgcHJvdmlkZWRcbiAqIC0gTm8gQVBJIGtleSBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyBBUEkga2V5IHByb3ZpZGVkXG4gKiAtIE5vIHRleHQgcHJvdmlkZWQgOiBpZiB0aGVyZSB3YXMgbm8gdGV4dCBwcm92aWRlZFxuICogLSBObyBsYW5ndWFnZSBwcm92aWRlZCA6IGlmIHRoZXJlIHdhcyBubyB0ZXh0IHByb3ZpZGVkXG4gKiAtIElmIHRoZXJlIGlzIGEgbmV0d29yayBlcnJvclxuICogLSBUaGUgc2VydmVyIHJlc3BvbnNlIGlzIGFuIFZvaWNlUlNTIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge0NvbmZpZ30gY29uZmlnIFRoZSBjb25maWcgb2JqZWN0IHByb3ZpZGVkLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwZWVjaChjb25maWc6IENvbmZpZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiB2YWxpZGF0ZShjb25maWcpICYmIG1ha2VSZXF1ZXN0KGNyZWF0ZVF1ZXJ5KGNvbmZpZykpO1xufVxuIiwiaW1wb3J0IHsgRVJST1JfUFJFRklYLCBIRUFERVJfTkFNRSwgSEVBREVSX1ZBTFVFLCBNRVRIT0QsIFZPSUNFX1JTU19VUkwgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuLyoqXG4gKiBNYWtlcyBhIFBPU1QgaHR0cHMgcmVxdWVzdCB0byB0aGUgVm9pY2VSU1MgQVBJIHdpdGggdGhlIHByb3ZpZGVkIHF1ZXJ5LlxuICogQHRocm93cyBUaHJvd3MgaWYgdGhlcmUgaXMgYSBuZXR3b3JrIGVycm9yIG9yIHRoZSBzZXJ2ZXIgcmVzcG9uc2UgaXMgYW4gVm9pY2VSU1MgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSBUaGUgcXVlcnkgc3RyaW5nIHRvIHNlbmQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZVJlcXVlc3QocXVlcnk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGF3YWl0IGltcG9ydChcImh0dHBzXCIpO1xuICAgIGNvbnN0IGNsaWVudFJlcXVlc3QgPSByZXF1ZXN0KFxuICAgICAge1xuICAgICAgICBob3N0OiBWT0lDRV9SU1NfVVJMLFxuICAgICAgICBtZXRob2Q6IE1FVEhPRCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFtIRUFERVJfTkFNRV06IEhFQURFUl9WQUxVRSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgIHJlamVjdChyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3BvbnNlLm9uKFwiZGF0YVwiLCAoZGF0YTogQnVmZmVyKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgICAgICBpZiAodGV4dC5zdGFydHNXaXRoKEVSUk9SX1BSRUZJWCkpIHtcbiAgICAgICAgICAgIHJlamVjdCh0ZXh0LnNsaWNlKEVSUk9SX1BSRUZJWC5sZW5ndGgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNvbHZlKHRleHQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY2xpZW50UmVxdWVzdC5vbihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgICAgcmVqZWN0KGVycm9yLm1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgY2xpZW50UmVxdWVzdC53cml0ZShxdWVyeSk7XG5cbiAgICBjbGllbnRSZXF1ZXN0LmVuZCgpO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBWT0lDRV9SU1NfVVJMID0gXCJhcGkudm9pY2Vyc3Mub3JnXCI7XG5leHBvcnQgY29uc3QgTUVUSE9EID0gXCJQT1NUXCI7XG5leHBvcnQgY29uc3QgSEVBREVSX05BTUUgPSBcIkNvbnRlbnQtVHlwZVwiO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9WQUxVRSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCI7XG5leHBvcnQgY29uc3QgRVJST1JfUFJFRklYID0gXCJFUlJPUjogXCI7XG5cbmV4cG9ydCBlbnVtIFZvaWNlUlNTRXJyb3Ige1xuICBJbmFjdGl2ZUFjY291bnQgPSBcIkVSUk9SOiBUaGUgYWNjb3VudCBpcyBpbmFjdGl2ZSFcIixcbiAgRXhwaXJlZFN1YnNjcmlwdGlvbiA9IFwiRVJST1I6IFRoZSBzdWJzY3JpcHRpb24gaXMgZXhwaXJlZCBvciByZXF1ZXN0cyBjb3VudCBsaW1pdGF0aW9uIGlzIGV4Y2VlZGVkIVwiLFxuICBDb250ZW50VG9vTGFyZ2UgPSBcIkVSUk9SOiBUaGUgcmVxdWVzdCBjb250ZW50IGxlbmd0aCBpcyB0b28gbGFyZ2UhXCIsXG4gIExhbmd1YWdlRG9lc05vdFN1cHBvcnQgPSBcIkVSUk9SOiBUaGUgbGFuZ3VhZ2UgZG9lcyBub3Qgc3VwcG9ydCFcIixcbiAgTm9MYW5ndWFnZVNwZWNpZmllZCA9IFwiRVJST1I6IFRoZSBsYW5ndWFnZSBpcyBub3Qgc3BlY2lmaWVkIVwiLFxuICBOb1RleHRTcGVjaWZpZWQgPSBcIkVSUk9SOiBUaGUgdGV4dCBpcyBub3Qgc3BlY2lmaWVkIVwiLFxuICBBUElLZXlOb3RBdmFpbGFibGUgPSBcIkVSUk9SOiBUaGUgQVBJIGtleSBpcyBub3QgYXZhaWxhYmxlIVwiLFxuICBBUElLZXlOb3RTcGVjaWZpZWQgPSBcIkVSUk9SOiBUaGUgQVBJIGtleSBpcyBub3Qgc3BlY2lmaWVkIVwiLFxuICBOb1NTTUxTdXBwb3J0ID0gXCJFUlJPUjogVGhlIHN1YnNjcmlwdGlvbiBkb2VzIG5vdCBzdXBwb3J0IFNTTUwhXCIsXG59XG5cbmV4cG9ydCBjb25zdCBTcGVlY2hSYXRlID0gWy0xMCwgLTksIC04LCAtNywgLTYsIC01LCAtNCwgLTMsIC0yLCAtMSwgMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQ29kZWMgPSBbXCJtcDNcIiwgXCJ3YXZcIiwgXCJhYWNcIiwgXCJvZ2dcIiwgXCJjYWZcIl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBGb3JtYXQgPSBbXG4gIFwiOGtoel84Yml0X21vbm9cIixcbiAgXCI4a2h6XzhiaXRfc3RlcmVvXCIsXG4gIFwiOGtoel8xNmJpdF9tb25vXCIsXG4gIFwiOGtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIxMWtoel84Yml0X21vbm9cIixcbiAgXCIxMWtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjExa2h6XzE2Yml0X21vbm9cIixcbiAgXCIxMWtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIxMmtoel84Yml0X21vbm9cIixcbiAgXCIxMmtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjEya2h6XzE2Yml0X21vbm9cIixcbiAgXCIxMmtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIxNmtoel84Yml0X21vbm9cIixcbiAgXCIxNmtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjE2a2h6XzE2Yml0X21vbm9cIixcbiAgXCIxNmtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIyMmtoel84Yml0X21vbm9cIixcbiAgXCIyMmtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjIya2h6XzE2Yml0X21vbm9cIixcbiAgXCIyMmtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIyNGtoel84Yml0X21vbm9cIixcbiAgXCIyNGtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjI0a2h6XzE2Yml0X21vbm9cIixcbiAgXCIyNGtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCIzMmtoel84Yml0X21vbm9cIixcbiAgXCIzMmtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjMya2h6XzE2Yml0X21vbm9cIixcbiAgXCIzMmtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCI0NGtoel84Yml0X21vbm9cIixcbiAgXCI0NGtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjQ0a2h6XzE2Yml0X21vbm9cIixcbiAgXCI0NGtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCI0OGtoel84Yml0X21vbm9cIixcbiAgXCI0OGtoel84Yml0X3N0ZXJlb1wiLFxuICBcIjQ4a2h6XzE2Yml0X21vbm9cIixcbiAgXCI0OGtoel8xNmJpdF9zdGVyZW9cIixcbiAgXCJhbGF3XzhraHpfbW9ub1wiLFxuICBcImFsYXdfOGtoel9zdGVyZW9cIixcbiAgXCJhbGF3XzExa2h6X21vbm9cIixcbiAgXCJhbGF3XzExa2h6X3N0ZXJlb1wiLFxuICBcImFsYXdfMjJraHpfbW9ub1wiLFxuICBcImFsYXdfMjJraHpfc3RlcmVvXCIsXG4gIFwiYWxhd180NGtoel9tb25vXCIsXG4gIFwiYWxhd180NGtoel9zdGVyZW9cIixcbiAgXCJ1bGF3XzhraHpfbW9ub1wiLFxuICBcInVsYXdfOGtoel9zdGVyZW9cIixcbiAgXCJ1bGF3XzExa2h6X21vbm9cIixcbiAgXCJ1bGF3XzExa2h6X3N0ZXJlb1wiLFxuICBcInVsYXdfMjJraHpfbW9ub1wiLFxuICBcInVsYXdfMjJraHpfc3RlcmVvXCIsXG4gIFwidWxhd180NGtoel9tb25vXCIsXG4gIFwidWxhd180NGtoel9zdGVyZW9cIixcbl0gYXMgY29uc3Q7XG4iLCJleHBvcnQgKiBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3ZvaWNlUlNTQ29uZmlnXCI7XG4iLCJpbXBvcnQgeyBDb2RlYywgRm9ybWF0LCBTcGVlY2hSYXRlIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBMYW5ndWFnZXNBbmRTcGVha2VycyA9IHtcbiAgXCJhci1lZ1wiOiBbXCJPZGFcIl0gYXMgY29uc3QsXG4gIFwiYXItc2FcIjogW1wiU2FsaW1cIl0gYXMgY29uc3QsXG4gIFwiYmctYmdcIjogW1wiRGltb1wiXSBhcyBjb25zdCxcbiAgXCJjYS1lc1wiOiBbXCJSdXRcIl0gYXMgY29uc3QsXG4gIFwiemgtY25cIjogW1wiTHVsaVwiLCBcIlNodVwiLCBcIkNob3dcIiwgXCJXYW5nXCJdIGFzIGNvbnN0LFxuICBcInpoLWhrXCI6IFtcIkppYVwiLCBcIlhpYVwiLCBcIkNoZW5cIl0gYXMgY29uc3QsXG4gIFwiemgtdHdcIjogW1wiQWtlbWlcIiwgXCJMaW5cIiwgXCJMZWVcIl0gYXMgY29uc3QsXG4gIFwiaHItaHJcIjogW1wiTmlrb2xhXCJdIGFzIGNvbnN0LFxuICBcImNzLWN6XCI6IFtcIkpvc2VmXCJdIGFzIGNvbnN0LFxuICBcImRhLWRrXCI6IFtcIkZyZWphXCJdIGFzIGNvbnN0LFxuICBcIm5sLWJlXCI6IFtcIkRhYW5cIl0gYXMgY29uc3QsXG4gIFwibmwtbmxcIjogW1wiTG90dGVcIiwgXCJCcmFtXCJdIGFzIGNvbnN0LFxuICBcImVuLWF1XCI6IFtcIlpvZVwiLCBcIklzbGFcIiwgXCJFdmllXCIsIFwiSmFja1wiXSBhcyBjb25zdCxcbiAgXCJlbi1jYVwiOiBbXCJSb3NlXCIsIFwiQ2xhcmFcIiwgXCJFbW1hXCIsIFwiTWFzb25cIl0gYXMgY29uc3QsXG4gIFwiZW4tZ2JcIjogW1wiQWxpY2VcIiwgXCJOYW5jeVwiLCBcIkxpbHlcIiwgXCJIYXJyeVwiXSBhcyBjb25zdCxcbiAgXCJlbi1pblwiOiBbXCJFa2FcIiwgXCJKYWlcIiwgXCJBaml0XCJdIGFzIGNvbnN0LFxuICBcImVuLWllXCI6IFtcIk9yYW5cIl0gYXMgY29uc3QsXG4gIFwiZW4tdXNcIjogW1wiTGluZGFcIiwgXCJBbXlcIiwgXCJNYXJ5XCIsIFwiSm9oblwiLCBcIk1pa2VcIl0gYXMgY29uc3QsXG4gIFwiZmktZmlcIjogW1wiQWFkYVwiXSBhcyBjb25zdCxcbiAgXCJmci1jYVwiOiBbXCJFbWlsZVwiLCBcIk9saXZpYVwiLCBcIkxvZ2FuXCIsIFwiRmVsaXhcIl0gYXMgY29uc3QsXG4gIFwiZnItZnJcIjogW1wiQmV0dGVcIiwgXCJJdmFcIiwgXCJab2xhXCIsIFwiQXhlbFwiXSBhcyBjb25zdCxcbiAgXCJmci1jaFwiOiBbXCJUaGVvXCJdIGFzIGNvbnN0LFxuICBcImRlLWF0XCI6IFtcIkx1a2FzXCJdIGFzIGNvbnN0LFxuICBcImRlLWRlXCI6IFtcIkhhbm5hXCIsIFwiTGluYVwiLCBcIkpvbmFzXCJdIGFzIGNvbnN0LFxuICBcImRlLWNoXCI6IFtcIlRpbVwiXSBhcyBjb25zdCxcbiAgXCJlbC1nclwiOiBbXCJOZW9cIl0gYXMgY29uc3QsXG4gIFwiaGUtaWxcIjogW1wiUmFtaVwiXSBhcyBjb25zdCxcbiAgXCJoaS1pblwiOiBbXCJQdWphXCIsIFwiS2FiaXJcIl0gYXMgY29uc3QsXG4gIFwiaHUtaHVcIjogW1wiTWF0ZVwiXSBhcyBjb25zdCxcbiAgXCJpZC1pZFwiOiBbXCJJbnRhblwiXSBhcyBjb25zdCxcbiAgXCJpdC1pdFwiOiBbXCJCcmlhXCIsIFwiTWlhXCIsIFwiUGlldHJvXCJdIGFzIGNvbnN0LFxuICBcImphLWpwXCI6IFtcIkhpbmFcIiwgXCJBaXJpXCIsIFwiRnVtaVwiLCBcIkFraXJhXCJdIGFzIGNvbnN0LFxuICBcImtvLWtyXCI6IFtcIk5hcmlcIl0gYXMgY29uc3QsXG4gIFwibXMtbXlcIjogW1wiQXFpbFwiXSBhcyBjb25zdCxcbiAgXCJuYi1ub1wiOiBbXCJNYXJ0ZVwiLCBcIkVyaWtcIl0gYXMgY29uc3QsXG4gIFwicGwtcGxcIjogW1wiSnVsaWFcIiwgXCJKYW5cIl0gYXMgY29uc3QsXG4gIFwicHQtYnJcIjogW1wiTWFyY2lhXCIsIFwiTGlnaWFcIiwgXCJZYXJhXCIsIFwiRGluaXNcIl0gYXMgY29uc3QsXG4gIFwicHQtcHRcIjogW1wiTGVvbm9yXCJdIGFzIGNvbnN0LFxuICBcInJvLXJvXCI6IFtcIkRvcnVcIl0gYXMgY29uc3QsXG4gIFwicnUtcnVcIjogW1wiT2xnYVwiLCBcIk1hcmluYVwiLCBcIlBldGVyXCJdIGFzIGNvbnN0LFxuICBcInNrLXNrXCI6IFtcIkJlZGFcIl0gYXMgY29uc3QsXG4gIFwic2wtc2lcIjogW1wiVmlkXCJdIGFzIGNvbnN0LFxuICBcImVzLW14XCI6IFtcIkp1YW5hXCIsIFwiU2lsdmlhXCIsIFwiVGVyZXNhXCIsIFwiSm9zZVwiXSBhcyBjb25zdCxcbiAgXCJlcy1lc1wiOiBbXCJDYW1pbGFcIiwgXCJTb2ZpYVwiLCBcIkx1bmFcIiwgXCJEaWVnb1wiXSBhcyBjb25zdCxcbiAgXCJzdi1zZVwiOiBbXCJNb2xseVwiLCBcIkh1Z29cIl0gYXMgY29uc3QsXG4gIFwidGEtaW5cIjogW1wiU2FpXCJdIGFzIGNvbnN0LFxuICBcInRoLXRoXCI6IFtcIlVrcml0XCJdIGFzIGNvbnN0LFxuICBcInRyLXRyXCI6IFtcIk9tZXJcIl0gYXMgY29uc3QsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBDb25maWcgPSB7XG4gIFtLIGluIGtleW9mIHR5cGVvZiBMYW5ndWFnZXNBbmRTcGVha2Vyc106IHtcbiAgICAvKiogVGhlIGxhbmd1YWdlIHlvdSB3YW50IHRvIGdldCBhbiBhdWRpbyByZWNvcmRpbmcgaW4gKi9cbiAgICBsYW5ndWFnZTogSztcbiAgICAvKiogVGhlIG5hbWUgb2YgdGhlIHNwZWFrZXIgd2hvc2Ugdm9pY2UgeW91IHdhbnQgdG8gdXNlIGZvciB0aGUgYXVkaW8sIGRlcGVuZHMgb24gbGFuZ3VhZ2UgdXNlZCAqL1xuICAgIHNwZWFrZXI/OiB0eXBlb2YgTGFuZ3VhZ2VzQW5kU3BlYWtlcnNbS11bbnVtYmVyXTtcbiAgICAvKiogVGhlIEFQSSBrZXkgeW91IHVzZSBmb3IgYXV0aGVudGljYXRpbmcgdGhlIHJlcXVlc3RzICovXG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgLyoqIFRoZSB0ZXh0IHlvdSB3YW50IHRvIGdldCBhbiBhdWRpbyByZWNvcmRpbmcgZm9yICovXG4gICAgdGV4dDogc3RyaW5nO1xuICAgIC8qKiBUaGUgYXVkaW8gY29kZWMgeW91IHdhbnQgdG8gZ2V0IHRoZSBhdWRpbyBpbiAqL1xuICAgIGF1ZGlvQ29kZWM/OiB0eXBlb2YgQ29kZWNbbnVtYmVyXTtcbiAgICAvKiogVGhlIGF1ZGlvIGZvcm1hdCB5b3Ugd2FudCB0byBnZXQgdGhlIGF1ZGlvIGluICovXG4gICAgYXVkaW9Gb3JtYXQ/OiB0eXBlb2YgRm9ybWF0W251bWJlcl07XG4gICAgLyoqIFRoZSBzcGVlZCBhdCB3aGljaCB5b3Ugd2FudCB0aGUgYXVkaW8gcmVjb3JkaW5nIHRvIGJlIHJlY29yZGVkIGF0LiBBY2NlcHRzIHZhbHVlcyBmcm9tIC0xMCB0byAxMCAqL1xuICAgIHNwZWVjaFJhdGU/OiB0eXBlb2YgU3BlZWNoUmF0ZVtudW1iZXJdO1xuICAgIC8qKiBXaGV0aGVyIHRvIHVzZSB0aGVcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvY29ydGFuYS9za2lsbHMvc3BlZWNoLXN5bnRoZXNpcy1tYXJrdXAtbGFuZ3VhZ2UgU1NNTH0gZm9ybWF0ICovXG4gICAgc3NtbD86IGJvb2xlYW47XG4gICAgLyoqIFdoZXRoZXIgdG8gb3V0cHV0IHRoZSBhdWRpbyBjb250ZW50IGluIEJhc2U2NCB0ZXh0IGZvcm1hdCAqL1xuICAgIGJhc2U2ND86IGJvb2xlYW47XG4gIH07XG59W2tleW9mIHR5cGVvZiBMYW5ndWFnZXNBbmRTcGVha2Vyc107XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwc1wiKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiZ2xvYmFsIiwiY3JlYXRlUXVlcnkiLCJjb25maWciLCJ2YWxpZGF0ZSIsIm1ha2VSZXF1ZXN0IiwicXVlcnkiLCJmZXRjaCIsIlZPSUNFX1JTU19VUkwiLCJtZXRob2QiLCJoZWFkZXJzIiwiSEVBREVSX05BTUUiLCJIRUFERVJfVkFMVUUiLCJib2R5IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJFcnJvciIsInN0YXR1c1RleHQiLCJ0ZXh0Iiwic3RhcnRzV2l0aCIsIkVSUk9SX1BSRUZJWCIsInNsaWNlIiwibGVuZ3RoIiwiYXVkaW9Db2RlYyIsIm1lZGlhVHlwZSIsIkF1ZGlvIiwiY2FuUGxheVR5cGUiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsImFwaUtleSIsImxhbmd1YWdlIiwic3BlYWtlciIsInRvTG93ZXJDYXNlIiwiYXVkaW9Gb3JtYXQiLCJzcGVlY2hSYXRlIiwic3NtbCIsImJhc2U2NCIsIk9iamVjdCIsImtleXMiLCJ3aW5kb3ciLCJnZXRTcGVlY2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJjbGllbnRSZXF1ZXN0IiwiaG9zdCIsIk1FVEhPRCIsInN0YXR1c0NvZGUiLCJzdGF0dXNNZXNzYWdlIiwib24iLCJkYXRhIiwidG9TdHJpbmciLCJlcnJvciIsIm1lc3NhZ2UiLCJ3cml0ZSIsImVuZCIsIlZvaWNlUlNTRXJyb3IiLCJTcGVlY2hSYXRlIiwiQ29kZWMiLCJGb3JtYXQiLCJMYW5ndWFnZXNBbmRTcGVha2VycyIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=