{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.VoiceRSSClient = t() : e.VoiceRSSClient = t();\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        36: function _(e, t, o) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, o, r) {\n              void 0 === r && (r = o), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function get() {\n                  return t[o];\n                }\n              });\n            } : function (e, t, o, r) {\n              void 0 === r && (r = o), e[r] = t[o];\n            }),\n            a = this && this.__exportStar || function (e, t) {\n              for (var o in e) {\n                \"default\" === o || Object.prototype.hasOwnProperty.call(t, o) || r(t, e, o);\n              }\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getSpeech = t.createQuery = void 0;\n          var i = o(200),\n            n = o(860),\n            c = o(469);\n          a(o(230), t);\n          var s = o(200);\n          Object.defineProperty(t, \"createQuery\", {\n            enumerable: !0,\n            get: function get() {\n              return s.createQuery;\n            }\n          }), a(o(469), t), a(o(860), t), t.getSpeech = function (e) {\n            return (0, c.validate)(e) && (0, n.makeRequest)((0, i.createQuery)(e));\n          };\n        },\n        860: function _(e, t, o) {\n          var r = this && this.__awaiter || function (e, t, o, r) {\n              return new (o || (o = Promise))(function (a, i) {\n                function n(e) {\n                  try {\n                    s(r.next(e));\n                  } catch (e) {\n                    i(e);\n                  }\n                }\n                function c(e) {\n                  try {\n                    s(r.throw(e));\n                  } catch (e) {\n                    i(e);\n                  }\n                }\n                function s(e) {\n                  var t;\n                  e.done ? a(e.value) : (t = e.value, t instanceof o ? t : new o(function (e) {\n                    e(t);\n                  })).then(n, c);\n                }\n                s((r = r.apply(e, t || [])).next());\n              });\n            },\n            a = this && this.__generator || function (e, t) {\n              var o,\n                r,\n                a,\n                i,\n                n = {\n                  label: 0,\n                  sent: function sent() {\n                    if (1 & a[0]) throw a[1];\n                    return a[1];\n                  },\n                  trys: [],\n                  ops: []\n                };\n              return i = {\n                next: c(0),\n                throw: c(1),\n                return: c(2)\n              }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n                return this;\n              }), i;\n              function c(i) {\n                return function (c) {\n                  return function (i) {\n                    if (o) throw new TypeError(\"Generator is already executing.\");\n                    for (; n;) {\n                      try {\n                        if (o = 1, r && (a = 2 & i[0] ? r.return : i[0] ? r.throw || ((a = r.return) && a.call(r), 0) : r.next) && !(a = a.call(r, i[1])).done) return a;\n                        switch (r = 0, a && (i = [2 & i[0], a.value]), i[0]) {\n                          case 0:\n                          case 1:\n                            a = i;\n                            break;\n                          case 4:\n                            return n.label++, {\n                              value: i[1],\n                              done: !1\n                            };\n                          case 5:\n                            n.label++, r = i[1], i = [0];\n                            continue;\n                          case 7:\n                            i = n.ops.pop(), n.trys.pop();\n                            continue;\n                          default:\n                            if (!((a = (a = n.trys).length > 0 && a[a.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                              n = 0;\n                              continue;\n                            }\n                            if (3 === i[0] && (!a || i[1] > a[0] && i[1] < a[3])) {\n                              n.label = i[1];\n                              break;\n                            }\n                            if (6 === i[0] && n.label < a[1]) {\n                              n.label = a[1], a = i;\n                              break;\n                            }\n                            if (a && n.label < a[2]) {\n                              n.label = a[2], n.ops.push(i);\n                              break;\n                            }\n                            a[2] && n.ops.pop(), n.trys.pop();\n                            continue;\n                        }\n                        i = t.call(e, n);\n                      } catch (e) {\n                        i = [6, e], r = 0;\n                      } finally {\n                        o = a = 0;\n                      }\n                    }\n                    if (5 & i[0]) throw i[1];\n                    return {\n                      value: i[0] ? i[1] : void 0,\n                      done: !0\n                    };\n                  }([i, c]);\n                };\n              }\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.makeRequest = void 0;\n          var i = o(230);\n          t.makeRequest = function (e) {\n            return r(this, void 0, void 0, function () {\n              var t, o, r;\n              return a(this, function (a) {\n                switch (a.label) {\n                  case 0:\n                    return [4, fetch(\"https://\".concat(i.VOICE_RSS_URL), {\n                      method: \"POST\",\n                      headers: (r = {}, r[i.HEADER_NAME] = i.HEADER_VALUE, r),\n                      body: e\n                    })];\n                  case 1:\n                    if (200 !== (t = a.sent()).status) throw new Error(t.statusText);\n                    return [4, t.text()];\n                  case 2:\n                    if ((o = a.sent()).startsWith(i.ERROR_PREFIX)) throw new Error(o.slice(i.ERROR_PREFIX.length));\n                    return [2, o];\n                }\n              });\n            });\n          };\n        },\n        469: function _(e, t, o) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.validate = void 0;\n          var r = o(200);\n          t.validate = function (e) {\n            if ((0, r.validate)(e), e.audioCodec) {\n              var t = \"audio/\";\n              switch (e.audioCodec) {\n                case \"mp3\":\n                  t += \"mpeg\";\n                  break;\n                case \"caf\":\n                  t += \"x-caf\";\n                  break;\n                default:\n                  t += e.audioCodec;\n              }\n              if (\"\" === new Audio().canPlayType(t)) throw new Error(\"The \".concat(e.audioCodec.toLocaleUpperCase(), \" codec is not supported in the current browser\"));\n            }\n            return !0;\n          };\n        },\n        200: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.validate = t.createQuery = void 0, t.createQuery = function (e) {\n            var t = \"key=\".concat(e.apiKey, \"&src=\").concat(e.text, \"&hl=\").concat(e.language, \"&c=\").concat(e.audioCodec || \"auto\");\n            return e.speaker && (t += \"&v=\".concat(e.speaker.toLowerCase())), e.audioFormat && (t += \"&f=\".concat(e.audioFormat)), e.speechRate && (t += \"&r=\".concat(e.speechRate)), e.ssml && (t += \"&ssml=\".concat(e.ssml)), (t += \"&ssml=\".concat(!0 === e.ssml)) + \"&b64=\".concat(!1 !== e.base64);\n          }, t.validate = function (e) {\n            if (!e || !Object.keys(e)) throw new Error(\"No config provided\");\n            if (!e.apiKey) throw new Error(\"No API key provided\");\n            if (!e.text) throw new Error(\"No text provided\");\n            if (!e.language) throw new Error(\"No language provided\");\n            return !0;\n          };\n        },\n        220: function _(e, t) {\n          var o;\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Format = t.Codec = t.SpeechRate = t.VoiceRSSError = t.ERROR_PREFIX = t.HEADER_VALUE = t.HEADER_NAME = t.METHOD = t.VOICE_RSS_URL = void 0, t.VOICE_RSS_URL = \"api.voicerss.org\", t.METHOD = \"POST\", t.HEADER_NAME = \"Content-Type\", t.HEADER_VALUE = \"application/x-www-form-urlencoded; charset=UTF-8\", t.ERROR_PREFIX = \"ERROR: \", (o = t.VoiceRSSError || (t.VoiceRSSError = {})).InactiveAccount = \"ERROR: The account is inactive!\", o.ExpiredSubscription = \"ERROR: The subscription is expired or requests count limitation is exceeded!\", o.ContentTooLarge = \"ERROR: The request content length is too large!\", o.LanguageDoesNotSupport = \"ERROR: The language does not support!\", o.NoLanguageSpecified = \"ERROR: The language is not specified!\", o.NoTextSpecified = \"ERROR: The text is not specified!\", o.APIKeyNotAvailable = \"ERROR: The API key is not available!\", o.APIKeyNotSpecified = \"ERROR: The API key is not specified!\", o.NoSSMLSupport = \"ERROR: The subscription does not support SSML!\", t.SpeechRate = [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10], t.Codec = [\"mp3\", \"wav\", \"aac\", \"ogg\", \"caf\"], t.Format = [\"8khz_8bit_mono\", \"8khz_8bit_stereo\", \"8khz_16bit_mono\", \"8khz_16bit_stereo\", \"11khz_8bit_mono\", \"11khz_8bit_stereo\", \"11khz_16bit_mono\", \"11khz_16bit_stereo\", \"12khz_8bit_mono\", \"12khz_8bit_stereo\", \"12khz_16bit_mono\", \"12khz_16bit_stereo\", \"16khz_8bit_mono\", \"16khz_8bit_stereo\", \"16khz_16bit_mono\", \"16khz_16bit_stereo\", \"22khz_8bit_mono\", \"22khz_8bit_stereo\", \"22khz_16bit_mono\", \"22khz_16bit_stereo\", \"24khz_8bit_mono\", \"24khz_8bit_stereo\", \"24khz_16bit_mono\", \"24khz_16bit_stereo\", \"32khz_8bit_mono\", \"32khz_8bit_stereo\", \"32khz_16bit_mono\", \"32khz_16bit_stereo\", \"44khz_8bit_mono\", \"44khz_8bit_stereo\", \"44khz_16bit_mono\", \"44khz_16bit_stereo\", \"48khz_8bit_mono\", \"48khz_8bit_stereo\", \"48khz_16bit_mono\", \"48khz_16bit_stereo\", \"alaw_8khz_mono\", \"alaw_8khz_stereo\", \"alaw_11khz_mono\", \"alaw_11khz_stereo\", \"alaw_22khz_mono\", \"alaw_22khz_stereo\", \"alaw_44khz_mono\", \"alaw_44khz_stereo\", \"ulaw_8khz_mono\", \"ulaw_8khz_stereo\", \"ulaw_11khz_mono\", \"ulaw_11khz_stereo\", \"ulaw_22khz_mono\", \"ulaw_22khz_stereo\", \"ulaw_44khz_mono\", \"ulaw_44khz_stereo\"];\n        },\n        230: function _(e, t, o) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, o, r) {\n              void 0 === r && (r = o), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function get() {\n                  return t[o];\n                }\n              });\n            } : function (e, t, o, r) {\n              void 0 === r && (r = o), e[r] = t[o];\n            }),\n            a = this && this.__exportStar || function (e, t) {\n              for (var o in e) {\n                \"default\" === o || Object.prototype.hasOwnProperty.call(t, o) || r(t, e, o);\n              }\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), a(o(220), t), a(o(949), t);\n        },\n        949: function _(e, t) {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.LanguagesAndSpeakers = void 0, t.LanguagesAndSpeakers = {\n            \"ar-eg\": [\"Oda\"],\n            \"ar-sa\": [\"Salim\"],\n            \"bg-bg\": [\"Dimo\"],\n            \"ca-es\": [\"Rut\"],\n            \"zh-cn\": [\"Luli\", \"Shu\", \"Chow\", \"Wang\"],\n            \"zh-hk\": [\"Jia\", \"Xia\", \"Chen\"],\n            \"zh-tw\": [\"Akemi\", \"Lin\", \"Lee\"],\n            \"hr-hr\": [\"Nikola\"],\n            \"cs-cz\": [\"Josef\"],\n            \"da-dk\": [\"Freja\"],\n            \"nl-be\": [\"Daan\"],\n            \"nl-nl\": [\"Lotte\", \"Bram\"],\n            \"en-au\": [\"Zoe\", \"Isla\", \"Evie\", \"Jack\"],\n            \"en-ca\": [\"Rose\", \"Clara\", \"Emma\", \"Mason\"],\n            \"en-gb\": [\"Alice\", \"Nancy\", \"Lily\", \"Harry\"],\n            \"en-in\": [\"Eka\", \"Jai\", \"Ajit\"],\n            \"en-ie\": [\"Oran\"],\n            \"en-us\": [\"Linda\", \"Amy\", \"Mary\", \"John\", \"Mike\"],\n            \"fi-fi\": [\"Aada\"],\n            \"fr-ca\": [\"Emile\", \"Olivia\", \"Logan\", \"Felix\"],\n            \"fr-fr\": [\"Bette\", \"Iva\", \"Zola\", \"Axel\"],\n            \"fr-ch\": [\"Theo\"],\n            \"de-at\": [\"Lukas\"],\n            \"de-de\": [\"Hanna\", \"Lina\", \"Jonas\"],\n            \"de-ch\": [\"Tim\"],\n            \"el-gr\": [\"Neo\"],\n            \"he-il\": [\"Rami\"],\n            \"hi-in\": [\"Puja\", \"Kabir\"],\n            \"hu-hu\": [\"Mate\"],\n            \"id-id\": [\"Intan\"],\n            \"it-it\": [\"Bria\", \"Mia\", \"Pietro\"],\n            \"ja-jp\": [\"Hina\", \"Airi\", \"Fumi\", \"Akira\"],\n            \"ko-kr\": [\"Nari\"],\n            \"ms-my\": [\"Aqil\"],\n            \"nb-no\": [\"Marte\", \"Erik\"],\n            \"pl-pl\": [\"Julia\", \"Jan\"],\n            \"pt-br\": [\"Marcia\", \"Ligia\", \"Yara\", \"Dinis\"],\n            \"pt-pt\": [\"Leonor\"],\n            \"ro-ro\": [\"Doru\"],\n            \"ru-ru\": [\"Olga\", \"Marina\", \"Peter\"],\n            \"sk-sk\": [\"Beda\"],\n            \"sl-si\": [\"Vid\"],\n            \"es-mx\": [\"Juana\", \"Silvia\", \"Teresa\", \"Jose\"],\n            \"es-es\": [\"Camila\", \"Sofia\", \"Luna\", \"Diego\"],\n            \"sv-se\": [\"Molly\", \"Hugo\"],\n            \"ta-in\": [\"Sai\"],\n            \"th-th\": [\"Ukrit\"],\n            \"tr-tr\": [\"Omer\"]\n          };\n        }\n      },\n      t = {};\n    return function o(r) {\n      var a = t[r];\n      if (void 0 !== a) return a.exports;\n      var i = t[r] = {\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, o), i.exports;\n    }(36);\n  }();\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","define","amd","VoiceRSSClient","self","n","c","a","Object","enumerable","get","t","config","query","fetch","i","method","headers","r","body","response","status","Error","statusText","text","startsWith","slice","length","audioCodec","mediaType","Audio","canPlayType","toLocaleUpperCase","apiKey","language","speaker","toLowerCase","audioFormat","speechRate","ssml","base64","keys","VoiceRSSError","InactiveAccount","o","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sources":["webpack://VoiceRSSClient/webpack/universalModuleDefinition","webpack://VoiceRSSClient/src/browser/index.ts","webpack://VoiceRSSClient/src/browser/makeRequest.ts","webpack://VoiceRSSClient/src/browser/validate.ts","webpack://VoiceRSSClient/src/common.ts","webpack://VoiceRSSClient/src/types/constants.ts","webpack://VoiceRSSClient/src/types/index.ts","webpack://VoiceRSSClient/src/types/voiceRSSConfig.ts","webpack://VoiceRSSClient/webpack/bootstrap","webpack://VoiceRSSClient/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VoiceRSSClient\"] = factory();\n\telse\n\t\troot[\"VoiceRSSClient\"] = factory();\n})(self, function() {\nreturn ","import { createQuery } from \"../common\";\nimport { Config } from \"../types\";\nimport { makeRequest } from \"./makeRequest\";\nimport { validate } from \"./validate\";\n\nexport * from \"../types\";\nexport { createQuery } from \"../common\";\nexport * from \"./validate\";\nexport * from \"./makeRequest\";\n\n/**\n * Validates the provided configuration, makes a request to the VoiceRSS API and returns the sound as a string.\n * @throws Will throw one of following errors:\n * - No config provided : if there was no config object provided\n * - No API key provided : if there was no API key provided\n * - No text provided : if there was no text provided\n * - No language provided : if there was no text provided\n * - Cannot play provided audio codec : if the provided audio codec is not supported in the current browser\n * - If there is a network error\n * - The server response is an VoiceRSS error message.\n * @param {Config} config The config object provided.\n * @returns {Promise<string>}\n */\nexport function getSpeech(config: Config): Promise<string> {\n  return validate(config) && makeRequest(createQuery(config));\n}\n","import { ERROR_PREFIX, HEADER_NAME, HEADER_VALUE, VOICE_RSS_URL } from \"../types\";\n\n/**\n * Makes a POST fetch request to the VoiceRSS API with the provided query.\n * @throws Throws if there is a network error or the server response is an VoiceRSS error message.\n * @param {string} query The query string to send.\n * @returns {Promise<string>}\n */\nexport async function makeRequest(query: string): Promise<string> {\n  const response = await fetch(`https://${VOICE_RSS_URL}`, {\n    method: \"POST\",\n    headers: {\n      [HEADER_NAME]: HEADER_VALUE,\n    },\n    body: query,\n  });\n\n  if (response.status !== 200) {\n    throw new Error(response.statusText);\n  }\n\n  const text = await response.text();\n\n  if (text.startsWith(ERROR_PREFIX)) {\n    throw new Error(text.slice(ERROR_PREFIX.length));\n  }\n\n  return text;\n}\n","import { validate as commonValidate } from \"../common\";\nimport { Config } from \"../types\";\n\n/**\n * Validates whether the configuration object is correct and whether the browser supports the provided audio codec.\n * @throws Will throw one of following errors:\n * - No config provided : if there was no config object provided\n * - No API key provided : if there was no API key provided\n * - No text provided : if there was no text provided\n * - No language provided : if there was no text provided\n * - Cannot play provided audio codec : if the provided audio codec is not supported in the current browser (only\n * applicable if the function is called from a browser)\n * @param {Config} config The RSS configuration object.\n * @returns {boolean}\n */\nexport function validate(config: Config): boolean {\n  commonValidate(config);\n\n  if (config.audioCodec) {\n    let mediaType = \"audio/\";\n    switch (config.audioCodec) {\n      case \"mp3\":\n        mediaType += \"mpeg\";\n        break;\n      case \"caf\":\n        mediaType += \"x-caf\";\n        break;\n      default:\n        mediaType += config.audioCodec;\n        break;\n    }\n\n    if (new Audio().canPlayType(mediaType) === \"\") {\n      throw new Error(`The ${config.audioCodec.toLocaleUpperCase()} codec is not supported in the current browser`);\n    }\n  }\n\n  return true;\n}\n","import { Config } from \"./types\";\n\n/**\n * Creates a query string from the provided configuration object.\n * @param {Config} config The configuration object to create the query from.\n * @returns {string}\n */\nexport function createQuery(config: Config): string {\n  let query = `key=${config.apiKey}&src=${config.text}&hl=${config.language}&c=${config.audioCodec || \"auto\"}`;\n\n  if (config.speaker) query += `&v=${config.speaker.toLowerCase()}`;\n  if (config.audioFormat) query += `&f=${config.audioFormat}`;\n  if (config.speechRate) query += `&r=${config.speechRate}`;\n  if (config.ssml) query += `&ssml=${config.ssml}`;\n  query += `&ssml=${config.ssml === true}`;\n  query += `&b64=${config.base64 !== false}`;\n\n  return query;\n}\n\n/**\n * Validates whether the configuration object is correct.\n * @throws Will throw one of following errors:\n * - No config provided : if there was no config object provided\n * - No API key provided : if there was no API key provided\n * - No text provided : if there was no text provided\n * - No language provided : if there was no text provided\n * @param {Config} config The RSS configuration object.\n * @returns {boolean}\n */\nexport function validate(config: Config): boolean {\n  if (!config || !Object.keys(config)) throw new Error(\"No config provided\");\n  if (!config.apiKey) throw new Error(\"No API key provided\");\n  if (!config.text) throw new Error(\"No text provided\");\n  if (!config.language) throw new Error(\"No language provided\");\n\n  return true;\n}\n","export const VOICE_RSS_URL = \"api.voicerss.org\";\nexport const METHOD = \"POST\";\nexport const HEADER_NAME = \"Content-Type\";\nexport const HEADER_VALUE = \"application/x-www-form-urlencoded; charset=UTF-8\";\nexport const ERROR_PREFIX = \"ERROR: \";\n\nexport enum VoiceRSSError {\n  InactiveAccount = \"ERROR: The account is inactive!\",\n  ExpiredSubscription = \"ERROR: The subscription is expired or requests count limitation is exceeded!\",\n  ContentTooLarge = \"ERROR: The request content length is too large!\",\n  LanguageDoesNotSupport = \"ERROR: The language does not support!\",\n  NoLanguageSpecified = \"ERROR: The language is not specified!\",\n  NoTextSpecified = \"ERROR: The text is not specified!\",\n  APIKeyNotAvailable = \"ERROR: The API key is not available!\",\n  APIKeyNotSpecified = \"ERROR: The API key is not specified!\",\n  NoSSMLSupport = \"ERROR: The subscription does not support SSML!\",\n}\n\nexport const SpeechRate = [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] as const;\n\nexport const Codec = [\"mp3\", \"wav\", \"aac\", \"ogg\", \"caf\"] as const;\n\nexport const Format = [\n  \"8khz_8bit_mono\",\n  \"8khz_8bit_stereo\",\n  \"8khz_16bit_mono\",\n  \"8khz_16bit_stereo\",\n  \"11khz_8bit_mono\",\n  \"11khz_8bit_stereo\",\n  \"11khz_16bit_mono\",\n  \"11khz_16bit_stereo\",\n  \"12khz_8bit_mono\",\n  \"12khz_8bit_stereo\",\n  \"12khz_16bit_mono\",\n  \"12khz_16bit_stereo\",\n  \"16khz_8bit_mono\",\n  \"16khz_8bit_stereo\",\n  \"16khz_16bit_mono\",\n  \"16khz_16bit_stereo\",\n  \"22khz_8bit_mono\",\n  \"22khz_8bit_stereo\",\n  \"22khz_16bit_mono\",\n  \"22khz_16bit_stereo\",\n  \"24khz_8bit_mono\",\n  \"24khz_8bit_stereo\",\n  \"24khz_16bit_mono\",\n  \"24khz_16bit_stereo\",\n  \"32khz_8bit_mono\",\n  \"32khz_8bit_stereo\",\n  \"32khz_16bit_mono\",\n  \"32khz_16bit_stereo\",\n  \"44khz_8bit_mono\",\n  \"44khz_8bit_stereo\",\n  \"44khz_16bit_mono\",\n  \"44khz_16bit_stereo\",\n  \"48khz_8bit_mono\",\n  \"48khz_8bit_stereo\",\n  \"48khz_16bit_mono\",\n  \"48khz_16bit_stereo\",\n  \"alaw_8khz_mono\",\n  \"alaw_8khz_stereo\",\n  \"alaw_11khz_mono\",\n  \"alaw_11khz_stereo\",\n  \"alaw_22khz_mono\",\n  \"alaw_22khz_stereo\",\n  \"alaw_44khz_mono\",\n  \"alaw_44khz_stereo\",\n  \"ulaw_8khz_mono\",\n  \"ulaw_8khz_stereo\",\n  \"ulaw_11khz_mono\",\n  \"ulaw_11khz_stereo\",\n  \"ulaw_22khz_mono\",\n  \"ulaw_22khz_stereo\",\n  \"ulaw_44khz_mono\",\n  \"ulaw_44khz_stereo\",\n] as const;\n","export * from \"./constants\";\nexport * from \"./voiceRSSConfig\";\n","import { Codec, Format, SpeechRate } from \"./constants\";\n\nexport const LanguagesAndSpeakers = {\n  \"ar-eg\": [\"Oda\"] as const,\n  \"ar-sa\": [\"Salim\"] as const,\n  \"bg-bg\": [\"Dimo\"] as const,\n  \"ca-es\": [\"Rut\"] as const,\n  \"zh-cn\": [\"Luli\", \"Shu\", \"Chow\", \"Wang\"] as const,\n  \"zh-hk\": [\"Jia\", \"Xia\", \"Chen\"] as const,\n  \"zh-tw\": [\"Akemi\", \"Lin\", \"Lee\"] as const,\n  \"hr-hr\": [\"Nikola\"] as const,\n  \"cs-cz\": [\"Josef\"] as const,\n  \"da-dk\": [\"Freja\"] as const,\n  \"nl-be\": [\"Daan\"] as const,\n  \"nl-nl\": [\"Lotte\", \"Bram\"] as const,\n  \"en-au\": [\"Zoe\", \"Isla\", \"Evie\", \"Jack\"] as const,\n  \"en-ca\": [\"Rose\", \"Clara\", \"Emma\", \"Mason\"] as const,\n  \"en-gb\": [\"Alice\", \"Nancy\", \"Lily\", \"Harry\"] as const,\n  \"en-in\": [\"Eka\", \"Jai\", \"Ajit\"] as const,\n  \"en-ie\": [\"Oran\"] as const,\n  \"en-us\": [\"Linda\", \"Amy\", \"Mary\", \"John\", \"Mike\"] as const,\n  \"fi-fi\": [\"Aada\"] as const,\n  \"fr-ca\": [\"Emile\", \"Olivia\", \"Logan\", \"Felix\"] as const,\n  \"fr-fr\": [\"Bette\", \"Iva\", \"Zola\", \"Axel\"] as const,\n  \"fr-ch\": [\"Theo\"] as const,\n  \"de-at\": [\"Lukas\"] as const,\n  \"de-de\": [\"Hanna\", \"Lina\", \"Jonas\"] as const,\n  \"de-ch\": [\"Tim\"] as const,\n  \"el-gr\": [\"Neo\"] as const,\n  \"he-il\": [\"Rami\"] as const,\n  \"hi-in\": [\"Puja\", \"Kabir\"] as const,\n  \"hu-hu\": [\"Mate\"] as const,\n  \"id-id\": [\"Intan\"] as const,\n  \"it-it\": [\"Bria\", \"Mia\", \"Pietro\"] as const,\n  \"ja-jp\": [\"Hina\", \"Airi\", \"Fumi\", \"Akira\"] as const,\n  \"ko-kr\": [\"Nari\"] as const,\n  \"ms-my\": [\"Aqil\"] as const,\n  \"nb-no\": [\"Marte\", \"Erik\"] as const,\n  \"pl-pl\": [\"Julia\", \"Jan\"] as const,\n  \"pt-br\": [\"Marcia\", \"Ligia\", \"Yara\", \"Dinis\"] as const,\n  \"pt-pt\": [\"Leonor\"] as const,\n  \"ro-ro\": [\"Doru\"] as const,\n  \"ru-ru\": [\"Olga\", \"Marina\", \"Peter\"] as const,\n  \"sk-sk\": [\"Beda\"] as const,\n  \"sl-si\": [\"Vid\"] as const,\n  \"es-mx\": [\"Juana\", \"Silvia\", \"Teresa\", \"Jose\"] as const,\n  \"es-es\": [\"Camila\", \"Sofia\", \"Luna\", \"Diego\"] as const,\n  \"sv-se\": [\"Molly\", \"Hugo\"] as const,\n  \"ta-in\": [\"Sai\"] as const,\n  \"th-th\": [\"Ukrit\"] as const,\n  \"tr-tr\": [\"Omer\"] as const,\n} as const;\n\nexport type Config = {\n  [K in keyof typeof LanguagesAndSpeakers]: {\n    /** The language you want to get an audio recording in */\n    language: K;\n    /** The name of the speaker whose voice you want to use for the audio, depends on language used */\n    speaker?: typeof LanguagesAndSpeakers[K][number];\n    /** The API key you use for authenticating the requests */\n    apiKey: string;\n    /** The text you want to get an audio recording for */\n    text: string;\n    /** The audio codec you want to get the audio in */\n    audioCodec?: typeof Codec[number];\n    /** The audio format you want to get the audio in */\n    audioFormat?: typeof Format[number];\n    /** The speed at which you want the audio recording to be recorded at. Accepts values from -10 to 10 */\n    speechRate?: typeof SpeechRate[number];\n    /** Whether to use the\n     * {@link https://docs.microsoft.com/en-us/cortana/skills/speech-synthesis-markup-language SSML} format */\n    ssml?: boolean;\n    /** Whether to output the audio content in Base64 text format */\n    base64?: boolean;\n  };\n}[keyof typeof LanguagesAndSpeakers];\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(36);\n"]},"metadata":{},"sourceType":"script"}